<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>CPP-AP: Tutorial</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-ext-stylesheet.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">CPP-AP<span id="projectnumber">&#160;2.4.1</span>
   </div>
   <div id="projectbrief">Command-line argument parser for C++20</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('md_docs_2tutorial.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Tutorial</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="tutorial"></a></p><ul>
<li><a class="el" href="md_docs_2tutorial.html#setting-up-cpp-ap">Setting Up CPP-AP</a><ul>
<li><a class="el" href="md_docs_2tutorial.html#cmake-integration">CMake Integration</a></li>
<li><a class="el" href="md_docs_2tutorial.html#downloading-the-library">Downloading the Library</a></li>
</ul>
</li>
<li><a class="el" href="md_docs_2tutorial.html#the-parser-class">The Parser Class</a></li>
<li><a class="el" href="md_docs_2tutorial.html#adding-arguments">Adding Arguments</a></li>
<li><a class="el" href="md_docs_2tutorial.html#argument-parameters">Argument Parameters</a></li>
<li><a class="el" href="md_docs_2tutorial.html#predefined-parameter-values">Predefined Parameter Values</a></li>
<li><a class="el" href="md_docs_2tutorial.html#default-arguments">Default Arguments</a></li>
<li><a class="el" href="md_docs_2tutorial.html#parsing-arguments">Parsing Arguments</a></li>
<li><a class="el" href="md_docs_2tutorial.html#retrieving-argument-values">Retrieving Argument Values</a></li>
<li><a class="el" href="md_docs_2tutorial.html#examples">Examples</a></li>
</ul>
<p><br  />
</p>
<blockquote class="doxtable">
<p>&zwj;<span style="color: #d63384; font-weight: bold; font-size: 1.1em;"><i class="fa fa-exclamation-circle" style="margin-right: 6px; vertical-align: middle; font-size: 1.3em; position: relative; top: -0.08em;"></i> Important:</span></p>
<p>This tutorial covers the most common use cases and features of the library. For more in-depth information and advanced usage, please refer to the full documentation. Instructions for building the documentation are available in the <a href="md_docs_2dev__notes.html#documentation">Dev Notes</a> page. </p>
</blockquote>
<p><br  />
</p>
<h1><a class="anchor" id="setting-up-cpp-ap"></a>
Setting Up CPP-AP</h1>
<h2><a class="anchor" id="cmake-integration"></a>
CMake Integration</h2>
<p>For CMake projects you can simply fetch the library in your <code>CMakeLists.txt</code> file:</p>
<div class="fragment"><div class="line">cmake_minimum_required(VERSION 3.12)</div>
<div class="line"> </div>
<div class="line">project(my_project LANGUAGES CXX)</div>
<div class="line"> </div>
<div class="line"># Include FetchContent module</div>
<div class="line">include(FetchContent)</div>
<div class="line"> </div>
<div class="line"># Fetch CPP-AP library</div>
<div class="line">FetchContent_Declare(</div>
<div class="line">    cpp-ap</div>
<div class="line">    GIT_REPOSITORY https://github.com/SpectraL519/cpp-ap.git</div>
<div class="line">    GIT_TAG master # here you can specify the desired tag or branch</div>
<div class="line">)</div>
<div class="line"> </div>
<div class="line">FetchContent_MakeAvailable(cpp-ap)</div>
<div class="line"> </div>
<div class="line"># Define the executable for the project</div>
<div class="line">add_executable(my_project main.cpp)</div>
<div class="line"> </div>
<div class="line">set_target_properties(my_project PROPERTIES</div>
<div class="line">    CXX_STANDARD 20</div>
<div class="line">    CXX_STANDARD_REQUIRED YES</div>
<div class="line">)</div>
<div class="line"> </div>
<div class="line"># Link against the cpp-ap (v2) library</div>
<div class="line">target_link_libraries(my_project PRIVATE cpp-ap-2)</div>
</div><!-- fragment --><h2><a class="anchor" id="downloading-the-library"></a>
Downloading the Library</h2>
<p>If you do not use CMake you can dowload the desired <a href="https://github.com/SpectraL519/cpp-ap/releases">library release</a>, extract it in a desired directory and simply add <code>&lt;cpp-ap-dir&gt;/include</code> to the include directories of your project.</p>
<p><br  />
 <br  />
 <br  />
</p>
<h1><a class="anchor" id="the-parser-class"></a>
The Parser Class</h1>
<p>To use the argument parser in your code you need to use the <code><a class="el" href="classap_1_1argument__parser.html" title="Main argument parser class.">ap::argument_parser</a></code> class.</p>
<p>The parameters you can specify for a parser's instance are:</p>
<ul>
<li>Program name and description - used in the parser's configuration output (<code>std::cout &lt;&lt; parser</code>).</li>
<li>Verbosity mode - <code>false</code> by default; if set to <code>true</code> the parser's configuration output will include more detailed info about arguments' parameters in addition to their names and help messages.</li>
<li><a class="el" href="md_docs_2tutorial.html#adding-arguments">Arguments</a> - specify the values/options accepted by the program.</li>
</ul>
<div class="fragment"><div class="line"><a class="code hl_class" href="classap_1_1argument__parser.html">ap::argument_parser</a> parser;</div>
<div class="line">parser.<a class="code hl_function" href="classap_1_1argument__parser.html#a61647eb07a661640d94d416dff69a9fe">program_name</a>(<span class="stringliteral">&quot;Name of the program&quot;</span>)</div>
<div class="line">      .<a class="code hl_function" href="classap_1_1argument__parser.html#a5935ee955cca241d6d4450326f9a92be">program_description</a>(<span class="stringliteral">&quot;Description of the program&quot;</span>)</div>
<div class="line">      .<a class="code hl_function" href="classap_1_1argument__parser.html#aa0e0f6e7fff9878c25f8453eab99bd5a">verbose</a>();</div>
<div class="ttc" id="aclassap_1_1argument__parser_html"><div class="ttname"><a href="classap_1_1argument__parser.html">ap::argument_parser</a></div><div class="ttdoc">Main argument parser class.</div><div class="ttdef"><b>Definition</b> <a href="argument__parser_8hpp_source.html#l00044">argument_parser.hpp:44</a></div></div>
<div class="ttc" id="aclassap_1_1argument__parser_html_a5935ee955cca241d6d4450326f9a92be"><div class="ttname"><a href="classap_1_1argument__parser.html#a5935ee955cca241d6d4450326f9a92be">ap::argument_parser::program_description</a></div><div class="ttdeci">argument_parser &amp; program_description(std::string_view description) noexcept</div><div class="ttdoc">Set the program description.</div><div class="ttdef"><b>Definition</b> <a href="argument__parser_8hpp_source.html#l00071">argument_parser.hpp:71</a></div></div>
<div class="ttc" id="aclassap_1_1argument__parser_html_a61647eb07a661640d94d416dff69a9fe"><div class="ttname"><a href="classap_1_1argument__parser.html#a61647eb07a661640d94d416dff69a9fe">ap::argument_parser::program_name</a></div><div class="ttdeci">argument_parser &amp; program_name(std::string_view name) noexcept</div><div class="ttdoc">Set the program name.</div><div class="ttdef"><b>Definition</b> <a href="argument__parser_8hpp_source.html#l00061">argument_parser.hpp:61</a></div></div>
<div class="ttc" id="aclassap_1_1argument__parser_html_aa0e0f6e7fff9878c25f8453eab99bd5a"><div class="ttname"><a href="classap_1_1argument__parser.html#aa0e0f6e7fff9878c25f8453eab99bd5a">ap::argument_parser::verbose</a></div><div class="ttdeci">argument_parser &amp; verbose(const bool v=true) noexcept</div><div class="ttdoc">Set the verbosity mode.</div><div class="ttdef"><b>Definition</b> <a href="argument__parser_8hpp_source.html#l00082">argument_parser.hpp:82</a></div></div>
</div><!-- fragment --><p><br  />
 <br  />
 <br  />
</p>
<h1><a class="anchor" id="adding-arguments"></a>
Adding Arguments</h1>
<p>The parser supports both positional and optional arguments. Both argument types are identified by their names represented as strings. Arguments can be defined with only a primary name or with a primary and a secondary (short) name.</p>
<blockquote class="doxtable">
<p>&zwj;<span style="color: #1e90ff; font-weight: bold; font-size: 1.1em;"><i class="fa fa-info-circle" style="margin-right: 6px; vertical-align: middle; font-size: 1.3em; position: relative; top: -0.08em;"></i> Note:</span></p>
<p>The basic rules of parsing positional and optional arguments are described in the <a class="el" href="md_docs_2tutorial.html#parsing-arguments">Parsing arguments</a> section. </p>
</blockquote>
<p>To add an argument to the parameter's configurations use the following syntax:</p>
<div class="fragment"><div class="line">parser.add_&lt;positional/optional&gt;_argument&lt;value_type&gt;(<span class="stringliteral">&quot;argument&quot;</span>);</div>
</div><!-- fragment --><p>or</p>
<div class="fragment"><div class="line">parser.add_&lt;positional/optional&gt;_argument&lt;value_type&gt;(<span class="stringliteral">&quot;argument&quot;</span>, <span class="stringliteral">&quot;a&quot;</span>);</div>
</div><!-- fragment --><blockquote class="doxtable">
<p>&zwj;<span style="color: #d63384; font-weight: bold; font-size: 1.1em;"><i class="fa fa-exclamation-circle" style="margin-right: 6px; vertical-align: middle; font-size: 1.3em; position: relative; top: -0.08em;"></i> Important:</span></p>
<p>The library supports any argument value types which meet the following requirements:</p>
<ul>
<li><p class="startli">The type is <a href="https://en.cppreference.com/w/cpp/concepts/constructible_from">constructible from</a> <code>const std::string&amp;</code> or the stream extraction operator - <code>std::istream&amp; operator&gt;&gt;</code> is defined for the type.</p>
<p class="startli"><b>IMPORTANT:</b> The argument parser will always use direct initialization from <code>std::string</code> and will use the extraction operator only if an argument's value type cannot be initialized from <code>std::string</code>.</p>
</li>
<li>The type satisfies the <a href="https://en.cppreference.com/w/cpp/concepts/semiregular.html"><code>std::semiregular</code></a> concept - is default initializable and copyable. </li>
</ul>
</blockquote>
<blockquote class="doxtable">
<p>&zwj;<span style="color: #1e90ff; font-weight: bold; font-size: 1.1em;"><i class="fa fa-info-circle" style="margin-right: 6px; vertical-align: middle; font-size: 1.3em; position: relative; top: -0.08em;"></i> Note:</span></p>
<p>The default value type of any argument is <code>std::string</code>. </p>
</blockquote>
<p>You can also add boolean flags:</p>
<div class="fragment"><div class="line">parser.<a class="code hl_function" href="classap_1_1argument__parser.html#aa340ed78fcdb698b73e105b04a4a5c14">add_flag</a>(<span class="stringliteral">&quot;enable_some_option&quot;</span>, <span class="stringliteral">&quot;eso&quot;</span>).help(<span class="stringliteral">&quot;enables option: some option&quot;</span>);</div>
<div class="line"><span class="comment">/* equivalent to:</span></div>
<div class="line"><span class="comment">parser.add_optional_argument&lt;bool&gt;(&quot;enable_some_option&quot;, &quot;eso&quot;)</span></div>
<div class="line"><span class="comment">      .default_value(false)</span></div>
<div class="line"><span class="comment">      .implicit_value(true)</span></div>
<div class="line"><span class="comment">      .nargs(0)</span></div>
<div class="line"><span class="comment">      .help(&quot;enables option: some option&quot;);</span></div>
<div class="line"><span class="comment">*/</span></div>
<div class="ttc" id="aclassap_1_1argument__parser_html_aa340ed78fcdb698b73e105b04a4a5c14"><div class="ttname"><a href="classap_1_1argument__parser.html#aa340ed78fcdb698b73e105b04a4a5c14">ap::argument_parser::add_flag</a></div><div class="ttdeci">argument::optional&lt; bool &gt; &amp; add_flag(std::string_view primary_name)</div><div class="ttdoc">Adds a boolean flag argument (an optional argument with value_type = bool) to the parser's configurat...</div><div class="ttdef"><b>Definition</b> <a href="argument__parser_8hpp_source.html#l00234">argument_parser.hpp:234</a></div></div>
</div><!-- fragment --><p>Boolean flags store <code>true</code> by default but you can specify whether the flag should store <code>true</code> or <code>false</code> when used:</p>
<div class="fragment"><div class="line">parser.<a class="code hl_function" href="classap_1_1argument__parser.html#aa340ed78fcdb698b73e105b04a4a5c14">add_flag</a>&lt;<span class="keyword">false</span>&gt;(<span class="stringliteral">&quot;disable_another_option&quot;</span>, <span class="stringliteral">&quot;dao&quot;</span>).help(<span class="stringliteral">&quot;disables option: another option&quot;</span>);</div>
<div class="line"><span class="comment">/* equivalent to:</span></div>
<div class="line"><span class="comment">parser.add_optional_argument&lt;bool&gt;(&quot;disable_another_option&quot;, &quot;dao&quot;)</span></div>
<div class="line"><span class="comment">      .default_value(true)</span></div>
<div class="line"><span class="comment">      .implicit_value(false)</span></div>
<div class="line"><span class="comment">      .nargs(0)</span></div>
<div class="line"><span class="comment">      .help(&quot;disables option: another option&quot;);</span></div>
<div class="line"><span class="comment">*/</span></div>
</div><!-- fragment --><p><br  />
 <br  />
 <br  />
</p>
<h1><a class="anchor" id="argument-parameters"></a>
Argument Parameters</h1>
<h2><a class="anchor" id="common-parameters"></a>
Common Parameters</h2>
<p>Parameters which can be specified for both positional and optional arguments include:</p>
<h3><a class="anchor" id="autotoc_md1-help---the-arguments-description-which-will-be-printed-when-printing-the-parser-class-instance"></a>
1. <code>help</code> - The argument's description which will be printed when printing the parser class instance.</h3>
<div class="fragment"><div class="line">parser.<a class="code hl_function" href="classap_1_1argument__parser.html#a95afc3f8d90d0f18e10a3d328d2e888d">add_positional_argument</a>&lt;std::size_t&gt;(<span class="stringliteral">&quot;number&quot;</span>, <span class="stringliteral">&quot;n&quot;</span>)</div>
<div class="line">      .help(<span class="stringliteral">&quot;a positive integer value&quot;</span>);</div>
<div class="ttc" id="aclassap_1_1argument__parser_html_a95afc3f8d90d0f18e10a3d328d2e888d"><div class="ttname"><a href="classap_1_1argument__parser.html#a95afc3f8d90d0f18e10a3d328d2e888d">ap::argument_parser::add_positional_argument</a></div><div class="ttdeci">argument::positional&lt; T &gt; &amp; add_positional_argument(std::string_view primary_name)</div><div class="ttdoc">Adds a positional argument to the parser's configuration.</div><div class="ttdef"><b>Definition</b> <a href="argument__parser_8hpp_source.html#l00145">argument_parser.hpp:145</a></div></div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md2-required---if-this-option-is-set-for-an-argument-and-its-value-is-not-passed-in-the-command-line-an-exception-will-be-thrown"></a>
2. <code>required</code> - If this option is set for an argument and it's value is not passed in the command-line, an exception will be thrown.</h3>
<blockquote class="doxtable">
<p>&zwj;<span style="color: #1e90ff; font-weight: bold; font-size: 1.1em;"><i class="fa fa-info-circle" style="margin-right: 6px; vertical-align: middle; font-size: 1.3em; position: relative; top: -0.08em;"></i> Note:</span></p>
<ul>
<li>By default positional arguments are set to be required, while optional arguments have this option disabled by default.</li>
<li>The default value of the value parameter of the <code>required(bool)</code> function is <code>true</code> for both positional and optional arguments. </li>
</ul>
</blockquote>
<blockquote class="doxtable">
<p>&zwj;<span style="color: #fd7e14; font-weight: bold; font-size: 1.1em;"><i class="fa fa-exclamation-triangle" style="margin-right: 6px; vertical-align: middle; font-size: 1.3em; position: relative; top: -0.08em;"></i> Warning:</span></p>
<ul>
<li>If a positional argument is defined as non-required, then no required positional argument can be defined after (only other non-required positional arguments and optional arguments will be allowed).</li>
<li>For both positional and optional arguments:<ul>
<li>enabling the <code>required</code> option disables the <code>bypass_required</code> option</li>
<li>disabling the <code>required</code> option has no effect on the <code>bypass_required</code> option. </li>
</ul>
</li>
</ul>
</blockquote>
<div class="fragment"><div class="line"><span class="comment">// example: positional arguments</span></div>
<div class="line">parser.<a class="code hl_function" href="classap_1_1argument__parser.html#a95afc3f8d90d0f18e10a3d328d2e888d">add_positional_argument</a>(<span class="stringliteral">&quot;input&quot;</span>);</div>
<div class="line">parser.<a class="code hl_function" href="classap_1_1argument__parser.html#a95afc3f8d90d0f18e10a3d328d2e888d">add_positional_argument</a>(<span class="stringliteral">&quot;output&quot;</span>).required(<span class="keyword">false</span>);</div>
<div class="line"> </div>
<div class="line">parser.<a class="code hl_function" href="classap_1_1argument__parser.html#af1ba2d20583be8bfa9cfb61eac4b602a">parse_args</a>(argc, argv);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// input is guaranteed to have a value if parsing was successfull</span></div>
<div class="line"><span class="keyword">const</span> <span class="keyword">auto</span> data = read_data(parser.<a class="code hl_function" href="classap_1_1argument__parser.html#a5a51e8b54c96d6bddbeabd9bc4ff7cb7">value</a>(<span class="stringliteral">&quot;input&quot;</span>));</div>
<div class="line"> </div>
<div class="line"><span class="keywordflow">if</span> (parser.<a class="code hl_function" href="classap_1_1argument__parser.html#a6c2a8328773c498294fafd746ce4a364">has_value</a>(<span class="stringliteral">&quot;output&quot;</span>)) {</div>
<div class="line">    std::ofstream os(parser.<a class="code hl_function" href="classap_1_1argument__parser.html#a5a51e8b54c96d6bddbeabd9bc4ff7cb7">value</a>(<span class="stringliteral">&quot;output&quot;</span>));</div>
<div class="line">    os &lt;&lt; data &lt;&lt; std::endl;</div>
<div class="line">}</div>
<div class="line"><span class="keywordflow">else</span> {</div>
<div class="line">    std::cout &lt;&lt; data &lt;&lt; std::endl;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">/*</span></div>
<div class="line"><span class="comment">Command                           Result</span></div>
<div class="line"><span class="comment">-----------------------------------------------------------------------------------------</span></div>
<div class="line"><span class="comment">./program                         Parsing error (no value for the input argument)</span></div>
<div class="line"><span class="comment">./program input.txt               Parsing success; Printing data to stdout</span></div>
<div class="line"><span class="comment">./program input.txt output.txt    Parsing success; Printing data to the `output.txt` file</span></div>
<div class="ttc" id="aclassap_1_1argument__parser_html_a5a51e8b54c96d6bddbeabd9bc4ff7cb7"><div class="ttname"><a href="classap_1_1argument__parser.html#a5a51e8b54c96d6bddbeabd9bc4ff7cb7">ap::argument_parser::value</a></div><div class="ttdeci">T value(std::string_view arg_name) const</div><div class="ttdef"><b>Definition</b> <a href="argument__parser_8hpp_source.html#l00358">argument_parser.hpp:358</a></div></div>
<div class="ttc" id="aclassap_1_1argument__parser_html_a6c2a8328773c498294fafd746ce4a364"><div class="ttname"><a href="classap_1_1argument__parser.html#a6c2a8328773c498294fafd746ce4a364">ap::argument_parser::has_value</a></div><div class="ttdeci">bool has_value(std::string_view arg_name) const noexcept</div><div class="ttdef"><b>Definition</b> <a href="argument__parser_8hpp_source.html#l00337">argument_parser.hpp:337</a></div></div>
<div class="ttc" id="aclassap_1_1argument__parser_html_af1ba2d20583be8bfa9cfb61eac4b602a"><div class="ttname"><a href="classap_1_1argument__parser.html#af1ba2d20583be8bfa9cfb61eac4b602a">ap::argument_parser::parse_args</a></div><div class="ttdeci">void parse_args(int argc, char *argv[])</div><div class="ttdoc">Parses the command-line arguments.</div><div class="ttdef"><b>Definition</b> <a href="argument__parser_8hpp_source.html#l00264">argument_parser.hpp:264</a></div></div>
</div><!-- fragment --><div class="fragment"><div class="line"><span class="comment">// example: optional arguments</span></div>
<div class="line">parser.<a class="code hl_function" href="classap_1_1argument__parser.html#a3841ee5aafb1bef6434fd790f6fa96d6">add_optional_argument</a>(<span class="stringliteral">&quot;input&quot;</span>, <span class="stringliteral">&quot;i&quot;</span>).required();</div>
<div class="line">parser.<a class="code hl_function" href="classap_1_1argument__parser.html#a3841ee5aafb1bef6434fd790f6fa96d6">add_optional_argument</a>(<span class="stringliteral">&quot;output&quot;</span>, <span class="stringliteral">&quot;o&quot;</span>);</div>
<div class="line"> </div>
<div class="line">parser.<a class="code hl_function" href="classap_1_1argument__parser.html#af1ba2d20583be8bfa9cfb61eac4b602a">parse_args</a>(argc, argv);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// `input` is guaranteed to have a value if parsing was successfull</span></div>
<div class="line"><span class="keyword">const</span> <span class="keyword">auto</span> data = read_data(parser.<a class="code hl_function" href="classap_1_1argument__parser.html#a5a51e8b54c96d6bddbeabd9bc4ff7cb7">value</a>(<span class="stringliteral">&quot;input&quot;</span>));</div>
<div class="line"> </div>
<div class="line"><span class="keywordflow">if</span> (parser.<a class="code hl_function" href="classap_1_1argument__parser.html#a6c2a8328773c498294fafd746ce4a364">has_value</a>(<span class="stringliteral">&quot;output&quot;</span>)) {</div>
<div class="line">    std::ofstream os(parser.<a class="code hl_function" href="classap_1_1argument__parser.html#a5a51e8b54c96d6bddbeabd9bc4ff7cb7">value</a>(<span class="stringliteral">&quot;output&quot;</span>));</div>
<div class="line">    os &lt;&lt; data &lt;&lt; std::endl;</div>
<div class="line">}</div>
<div class="line"><span class="keywordflow">else</span> {</div>
<div class="line">    std::cout &lt;&lt; data &lt;&lt; std::endl;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">/*</span></div>
<div class="line"><span class="comment">Command                                 Result</span></div>
<div class="line"><span class="comment">-----------------------------------------------------------------------------------------------</span></div>
<div class="line"><span class="comment">./program                               Parsing error (no value for the input argument)</span></div>
<div class="line"><span class="comment">./program --input input.txt             Parsing success; Printing data to stdout</span></div>
<div class="line"><span class="comment">./program -i input.txt -o output.txt    Parsing success; Printing data to the `output.txt` file</span></div>
<div class="line"><span class="comment">*/</span></div>
<div class="ttc" id="aclassap_1_1argument__parser_html_a3841ee5aafb1bef6434fd790f6fa96d6"><div class="ttname"><a href="classap_1_1argument__parser.html#a3841ee5aafb1bef6434fd790f6fa96d6">ap::argument_parser::add_optional_argument</a></div><div class="ttdeci">argument::optional&lt; T &gt; &amp; add_optional_argument(std::string_view primary_name)</div><div class="ttdoc">Adds a positional argument to the parser's configuration.</div><div class="ttdef"><b>Definition</b> <a href="argument__parser_8hpp_source.html#l00191">argument_parser.hpp:191</a></div></div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md3-bypass_required---if-this-option-is-set-for-an-argument-the-required-option-for-other-arguments-will-be-discarded-if-the-bypassing-argument-is-used-in-the-command-line"></a>
3. <code>bypass_required</code> - If this option is set for an argument, the <code>required</code> option for other arguments will be discarded if the bypassing argument is used in the command-line.</h3>
<blockquote class="doxtable">
<p>&zwj;<span style="color: #1e90ff; font-weight: bold; font-size: 1.1em;"><i class="fa fa-info-circle" style="margin-right: 6px; vertical-align: middle; font-size: 1.3em; position: relative; top: -0.08em;"></i> Note:</span></p>
<ul>
<li>Both positional and optional arguments have the <code>bypass_required</code> option disabled.</li>
<li>The default value of the value parameter of the <code>bypass_required(bool)</code> function is <code>true</code> for both positional and optional arguments. </li>
</ul>
</blockquote>
<blockquote class="doxtable">
<p>&zwj;<span style="color: #fd7e14; font-weight: bold; font-size: 1.1em;"><i class="fa fa-exclamation-triangle" style="margin-right: 6px; vertical-align: middle; font-size: 1.3em; position: relative; top: -0.08em;"></i> Warning:</span></p>
<p>For both positional and optional arguments:</p><ul>
<li>enabling the <code>bypass_required</code> option disables the <code>required</code> option</li>
<li>disabling the <code>bypass_required</code> option has no effect on the <code>required</code> option. </li>
</ul>
</blockquote>
<div class="fragment"><div class="line"><span class="comment">// example: optional arguments</span></div>
<div class="line">parser.<a class="code hl_function" href="classap_1_1argument__parser.html#a95afc3f8d90d0f18e10a3d328d2e888d">add_positional_argument</a>(<span class="stringliteral">&quot;input&quot;</span>);</div>
<div class="line">parser.<a class="code hl_function" href="classap_1_1argument__parser.html#a3841ee5aafb1bef6434fd790f6fa96d6">add_optional_argument</a>(<span class="stringliteral">&quot;output&quot;</span>, <span class="stringliteral">&quot;o&quot;</span>).required();</div>
<div class="line">parser.<a class="code hl_function" href="classap_1_1argument__parser.html#a3841ee5aafb1bef6434fd790f6fa96d6">add_optional_argument</a>(<span class="stringliteral">&quot;version&quot;</span>, <span class="stringliteral">&quot;v&quot;</span>).bypass_required();</div>
<div class="line"> </div>
<div class="line">parser.<a class="code hl_function" href="classap_1_1argument__parser.html#af1ba2d20583be8bfa9cfb61eac4b602a">parse_args</a>(argc, argv);</div>
<div class="line"> </div>
<div class="line"><span class="keywordflow">if</span> (parser.<a class="code hl_function" href="classap_1_1argument__parser.html#ae42161f9323643d6b6e63d361f974325">count</a>(<span class="stringliteral">&quot;version&quot;</span>)) {</div>
<div class="line">    std::cout &lt;&lt; PROJECT_VERSION &lt;&lt; std::endl;</div>
<div class="line">    std::exit(EXIT_SUCCESS);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">// may result in an `ap::argument_parser_exception`:</span></div>
<div class="line"><span class="comment">// `input` is not guaranteed to have a value at this point</span></div>
<div class="line"><span class="keyword">const</span> <span class="keyword">auto</span> data = read_data(parser.<a class="code hl_function" href="classap_1_1argument__parser.html#a5a51e8b54c96d6bddbeabd9bc4ff7cb7">value</a>(<span class="stringliteral">&quot;input&quot;</span>));</div>
<div class="line"> </div>
<div class="line"><span class="comment">// may result in an `ap::argument_parser_exception`:</span></div>
<div class="line"><span class="comment">// `output` is not guaranteed to have a value at this point</span></div>
<div class="line">std::ofstream os(parser.<a class="code hl_function" href="classap_1_1argument__parser.html#a5a51e8b54c96d6bddbeabd9bc4ff7cb7">value</a>(<span class="stringliteral">&quot;output&quot;</span>));</div>
<div class="line">os &lt;&lt; data &lt;&lt; std::endl;</div>
<div class="ttc" id="aclassap_1_1argument__parser_html_ae42161f9323643d6b6e63d361f974325"><div class="ttname"><a href="classap_1_1argument__parser.html#ae42161f9323643d6b6e63d361f974325">ap::argument_parser::count</a></div><div class="ttdeci">std::size_t count(std::string_view arg_name) const noexcept</div><div class="ttdef"><b>Definition</b> <a href="argument__parser_8hpp_source.html#l00346">argument_parser.hpp:346</a></div></div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md4-default_value---the-default-value-for-an-argument-which-will-be-used-if-no-values-for-this-argument-are-parsed"></a>
4. <code>default_value</code> - The default value for an argument which will be used if no values for this argument are parsed</h3>
<blockquote class="doxtable">
<p>&zwj;<span style="color: #fd7e14; font-weight: bold; font-size: 1.1em;"><i class="fa fa-exclamation-triangle" style="margin-right: 6px; vertical-align: middle; font-size: 1.3em; position: relative; top: -0.08em;"></i> Warning:</span></p>
<p>For both positional and optional arguments, setting the <code>default_value</code> parameter disables the <code>required</code> option. </p>
</blockquote>
<div class="fragment"><div class="line"><span class="comment">// example: positional arguments</span></div>
<div class="line">parser.<a class="code hl_function" href="classap_1_1argument__parser.html#a95afc3f8d90d0f18e10a3d328d2e888d">add_positional_argument</a>(<span class="stringliteral">&quot;input&quot;</span>);</div>
<div class="line">parser.<a class="code hl_function" href="classap_1_1argument__parser.html#a95afc3f8d90d0f18e10a3d328d2e888d">add_positional_argument</a>(<span class="stringliteral">&quot;output&quot;</span>).default_value(<span class="stringliteral">&quot;output.txt&quot;</span>);</div>
<div class="line"> </div>
<div class="line">parser.<a class="code hl_function" href="classap_1_1argument__parser.html#af1ba2d20583be8bfa9cfb61eac4b602a">parse_args</a>(argc, argv);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// `input` is guaranteed to have a value if parsing was successfull</span></div>
<div class="line"><span class="keyword">const</span> <span class="keyword">auto</span> data = read_data(parser.<a class="code hl_function" href="classap_1_1argument__parser.html#a5a51e8b54c96d6bddbeabd9bc4ff7cb7">value</a>(<span class="stringliteral">&quot;input&quot;</span>));</div>
<div class="line"> </div>
<div class="line"><span class="comment">// `output` is guaranteed to have a value even if one was not specified in the command-line</span></div>
<div class="line">std::ofstream os(parser.<a class="code hl_function" href="classap_1_1argument__parser.html#a5a51e8b54c96d6bddbeabd9bc4ff7cb7">value</a>(<span class="stringliteral">&quot;output&quot;</span>));</div>
<div class="line">os &lt;&lt; data &lt;&lt; std::endl;</div>
<div class="line"> </div>
<div class="line"><span class="comment">/*</span></div>
<div class="line"><span class="comment">Command                           Result</span></div>
<div class="line"><span class="comment">-----------------------------------------------------------------------------------------</span></div>
<div class="line"><span class="comment">./program                         Parsing error (no value for the input argument)</span></div>
<div class="line"><span class="comment">./program input.txt               Parsing success; Printing data to `output.txt`</span></div>
<div class="line"><span class="comment">./program input.txt myfile.txt    Parsing success; Printing data to the `myfile.txt` file</span></div>
</div><!-- fragment --><div class="fragment"><div class="line"><span class="comment">// example: optional arguments</span></div>
<div class="line">parser.<a class="code hl_function" href="classap_1_1argument__parser.html#a3841ee5aafb1bef6434fd790f6fa96d6">add_optional_argument</a>(<span class="stringliteral">&quot;input&quot;</span>, <span class="stringliteral">&quot;i&quot;</span>).required();</div>
<div class="line">parser.<a class="code hl_function" href="classap_1_1argument__parser.html#a3841ee5aafb1bef6434fd790f6fa96d6">add_optional_argument</a>(<span class="stringliteral">&quot;output&quot;</span>, <span class="stringliteral">&quot;o&quot;</span>).default_value(<span class="stringliteral">&quot;output.txt&quot;</span>);</div>
<div class="line"> </div>
<div class="line">parser.<a class="code hl_function" href="classap_1_1argument__parser.html#af1ba2d20583be8bfa9cfb61eac4b602a">parse_args</a>(argc, argv);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// `input` is guaranteed to have a value if parsing was successfull</span></div>
<div class="line"><span class="keyword">const</span> <span class="keyword">auto</span> data = read_data(parser.<a class="code hl_function" href="classap_1_1argument__parser.html#a5a51e8b54c96d6bddbeabd9bc4ff7cb7">value</a>(<span class="stringliteral">&quot;input&quot;</span>));</div>
<div class="line"> </div>
<div class="line"><span class="comment">// `output` is guaranteed to have a value even if one was not specified in the command-line</span></div>
<div class="line">std::ofstream os(parser.<a class="code hl_function" href="classap_1_1argument__parser.html#a5a51e8b54c96d6bddbeabd9bc4ff7cb7">value</a>(<span class="stringliteral">&quot;output&quot;</span>));</div>
<div class="line">os &lt;&lt; data &lt;&lt; std::endl;</div>
<div class="line"> </div>
<div class="line"><span class="comment">/*</span></div>
<div class="line"><span class="comment">Command                                 Result</span></div>
<div class="line"><span class="comment">-----------------------------------------------------------------------------------------------</span></div>
<div class="line"><span class="comment">./program                               Parsing error (no value for the input argument)</span></div>
<div class="line"><span class="comment">./program --input input.txt             Parsing success; Printing data to `output.txt`</span></div>
<div class="line"><span class="comment">./program -i input.txt -o myfile.txt    Parsing success; Printing data to the `myfile.txt` file</span></div>
</div><!-- fragment --><blockquote class="doxtable">
<p>&zwj;<span style="color: #28a745; font-weight: bold; font-size: 1.1em;"><i class="fa fa-lightbulb-o" style="margin-right: 6px; vertical-align: middle; font-size: 1.3em; position: relative; top: -0.08em;"></i> Tip:</span></p>
<p>The setter of the <code>default_value</code> parameter accepts any type that is convertible to the argument's value type. </p>
</blockquote>
<h3><a class="anchor" id="autotoc_md5-choices---a-list-of-valid-argument-values"></a>
5. <code>choices</code> - A list of valid argument values.</h3>
<p>The <code>choices</code> parameter takes as an argument an instance of <code>std::initializer_list</code> or any <code>std::ranges::range</code> type such that its value type is convertible to the argument's <code>value_type</code>.</p>
<div class="fragment"><div class="line">parser.<a class="code hl_function" href="classap_1_1argument__parser.html#a3841ee5aafb1bef6434fd790f6fa96d6">add_optional_argument</a>&lt;<span class="keywordtype">char</span>&gt;(<span class="stringliteral">&quot;method&quot;</span>, <span class="stringliteral">&quot;m&quot;</span>).choices({<span class="charliteral">&#39;a&#39;</span>, <span class="charliteral">&#39;b&#39;</span>, <span class="charliteral">&#39;c&#39;</span>});</div>
<div class="line"><span class="comment">// passing a value other than a, b or c for the `method` argument will result in an error</span></div>
</div><!-- fragment --><blockquote class="doxtable">
<p>&zwj;<span style="color: #d63384; font-weight: bold; font-size: 1.1em;"><i class="fa fa-exclamation-circle" style="margin-right: 6px; vertical-align: middle; font-size: 1.3em; position: relative; top: -0.08em;"></i> Important:</span></p>
<p>The <code>choices</code> function can be used only if the argument's <code>value_type</code> is equality comparable (defines the <code>==</code> operator). </p>
</blockquote>
<h3><a class="anchor" id="autotoc_md6-value-actions---function-performed-after-parsing-an-arguments-value"></a>
6. Value actions - Function performed after parsing an argument's value.</h3>
<p>Actions are represented as functions, which take the argument's value as an argument. The available action types are:</p>
<ul>
<li><p class="startli"><code>observe</code> actions | <code>void(const value_type&amp;)</code> - applied to the parsed value. No value is returned - this action type is used to perform some logic on the parsed value without modifying it.</p>
<div class="fragment"><div class="line"><span class="keywordtype">void</span> is_valid_user_tag(<span class="keyword">const</span> std::string&amp; tag) {</div>
<div class="line">    <span class="keywordflow">if</span> (tag.empty() or tag.front() != <span class="charliteral">&#39;@&#39;</span>)</div>
<div class="line">        <span class="keywordflow">throw</span> std::runtime_error(std::format(<span class="stringliteral">&quot;Invalid user tag: `{}` â€” must start with &#39;@&#39;&quot;</span>, tag));</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">parser.<a class="code hl_function" href="classap_1_1argument__parser.html#a3841ee5aafb1bef6434fd790f6fa96d6">add_optional_argument</a>&lt;std::string&gt;(<span class="stringliteral">&quot;user&quot;</span>, <span class="stringliteral">&quot;u&quot;</span>)</div>
<div class="line">      .action&lt;ap::action_type::observe&gt;(is_valid_user_tag);</div>
</div><!-- fragment --></li>
<li><p class="startli"><code>transform</code> actions | <code>value_type(const value_type&amp;)</code> - applied to the parsed value. The returned value will be used to initialize the argument's value.</p>
<div class="fragment"><div class="line">std::string to_lower(std::string s) {</div>
<div class="line">    <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; c : s)</div>
<div class="line">        c = static_cast&lt;char&gt;(std::tolower(c));</div>
<div class="line">    <span class="keywordflow">return</span> s;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">parser.<a class="code hl_function" href="classap_1_1argument__parser.html#a3841ee5aafb1bef6434fd790f6fa96d6">add_optional_argument</a>&lt;std::string&gt;(<span class="stringliteral">&quot;key&quot;</span>, <span class="stringliteral">&quot;k&quot;</span>)</div>
<div class="line">      .action&lt;ap::action_type::transform&gt;(to_lower);</div>
</div><!-- fragment --></li>
<li><p class="startli"><code>modify</code> actions | <code>void(value_type&amp;)</code> - applied to the initialized value of an argument.</p>
<div class="fragment"><div class="line"><span class="keywordtype">void</span> capitalize(std::string&amp; s) {</div>
<div class="line">    s.at(0) = std::toupper(s.at(0));</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">parser.<a class="code hl_function" href="classap_1_1argument__parser.html#a3841ee5aafb1bef6434fd790f6fa96d6">add_optional_argument</a>&lt;std::string&gt;(<span class="stringliteral">&quot;name&quot;</span>, <span class="stringliteral">&quot;n&quot;</span>)</div>
<div class="line">      .action&lt;ap::action_type::modify&gt;(capitalize);</div>
</div><!-- fragment --></li>
</ul>
<blockquote class="doxtable">
<p>&zwj;<span style="color: #28a745; font-weight: bold; font-size: 1.1em;"><i class="fa fa-lightbulb-o" style="margin-right: 6px; vertical-align: middle; font-size: 1.3em; position: relative; top: -0.08em;"></i> Tip:</span></p>
<p>A single argument can have multiple value actions. Instead of writing complex logic in one action, consider composing several simple, focused actions for better readability and reusability. </p>
</blockquote>
<p><br  />
</p>
<h2><a class="anchor" id="parameters-specific-for-optional-arguments"></a>
Parameters Specific for Optional Arguments</h2>
<p>Apart from the common parameters listed above, for optional arguments you can also specify the following parameters:</p>
<h3><a class="anchor" id="autotoc_md1-nargs---sets-the-allowed-number-of-values-to-be-parsed-for-an-argument-this-can-be-set-as-a"></a>
1. <code>nargs</code> - Sets the allowed number of values to be parsed for an argument. This can be set as a:</h3>
<ul>
<li><p class="startli">Specific number:</p>
<div class="fragment"><div class="line">parser.<a class="code hl_function" href="classap_1_1argument__parser.html#a3841ee5aafb1bef6434fd790f6fa96d6">add_optional_argument</a>(<span class="stringliteral">&quot;input&quot;</span>, <span class="stringliteral">&quot;i&quot;</span>).nargs(1);</div>
</div><!-- fragment --></li>
<li><p class="startli">Fully bound range:</p>
<div class="fragment"><div class="line">parser.<a class="code hl_function" href="classap_1_1argument__parser.html#a3841ee5aafb1bef6434fd790f6fa96d6">add_optional_argument</a>(<span class="stringliteral">&quot;input&quot;</span>, <span class="stringliteral">&quot;i&quot;</span>).nargs(1, 3);</div>
</div><!-- fragment --></li>
<li><p class="startli">Partially bound range:</p>
<div class="fragment"><div class="line">parser.<a class="code hl_function" href="classap_1_1argument__parser.html#a3841ee5aafb1bef6434fd790f6fa96d6">add_optional_argument</a>(<span class="stringliteral">&quot;input&quot;</span>, <span class="stringliteral">&quot;i&quot;</span>).nargs(ap::nargs::at_least(1));  <span class="comment">// n &gt;= 1</span></div>
<div class="line">parser.<a class="code hl_function" href="classap_1_1argument__parser.html#a3841ee5aafb1bef6434fd790f6fa96d6">add_optional_argument</a>(<span class="stringliteral">&quot;input&quot;</span>, <span class="stringliteral">&quot;i&quot;</span>).nargs(ap::nargs::more_than(1)); <span class="comment">// n &gt; 1</span></div>
<div class="line">parser.<a class="code hl_function" href="classap_1_1argument__parser.html#a3841ee5aafb1bef6434fd790f6fa96d6">add_optional_argument</a>(<span class="stringliteral">&quot;input&quot;</span>, <span class="stringliteral">&quot;i&quot;</span>).nargs(ap::nargs::less_than(5)); <span class="comment">// n &lt; 5</span></div>
<div class="line">parser.<a class="code hl_function" href="classap_1_1argument__parser.html#a3841ee5aafb1bef6434fd790f6fa96d6">add_optional_argument</a>(<span class="stringliteral">&quot;input&quot;</span>, <span class="stringliteral">&quot;i&quot;</span>).nargs(ap::nargs::up_to(5));     <span class="comment">// n &lt;= 5</span></div>
</div><!-- fragment --></li>
<li><p class="startli">Unbound range:</p>
<div class="fragment"><div class="line">parser.<a class="code hl_function" href="classap_1_1argument__parser.html#a3841ee5aafb1bef6434fd790f6fa96d6">add_optional_argument</a>(<span class="stringliteral">&quot;input&quot;</span>, <span class="stringliteral">&quot;i&quot;</span>).nargs(ap::nargs::any());</div>
</div><!-- fragment --></li>
</ul>
<blockquote class="doxtable">
<p>&zwj;<span style="color: #d63384; font-weight: bold; font-size: 1.1em;"><i class="fa fa-exclamation-circle" style="margin-right: 6px; vertical-align: middle; font-size: 1.3em; position: relative; top: -0.08em;"></i> Important:</span></p>
<p>The default <code>nargs</code> parameter value is <code><a class="el" href="range_8hpp.html#a6809359a8f003c4d636330352e66be47" title="range class builder function. Creates a range [0, inf].">ap::nargs::any()</a></code>. </p>
</blockquote>
<h3><a class="anchor" id="autotoc_md2-implicit_value---a-value-which-will-be-set-for-an-argument-if-only-its-flag-is-parsed-from-the-command-line-but-no-values-follow"></a>
2. <code>implicit_value</code> - A value which will be set for an argument if only it's flag is parsed from the command-line but no values follow.</h3>
<div class="fragment"><div class="line"><span class="comment">// example</span></div>
<div class="line">parser.<a class="code hl_function" href="classap_1_1argument__parser.html#a3841ee5aafb1bef6434fd790f6fa96d6">add_optional_argument</a>(<span class="stringliteral">&quot;save&quot;</span>, <span class="stringliteral">&quot;s&quot;</span>).implicit_value(<span class="stringliteral">&quot;output.txt&quot;</span>);</div>
<div class="line"> </div>
<div class="line">parser.<a class="code hl_function" href="classap_1_1argument__parser.html#af1ba2d20583be8bfa9cfb61eac4b602a">parse_args</a>(argc, argv);</div>
<div class="line"> </div>
<div class="line"><span class="keyword">const</span> <span class="keyword">auto</span> data = get_data(); <span class="comment">// arbitrary program data</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// `output` is not guaranteed to have a value</span></div>
<div class="line"><span class="keywordflow">if</span> (parser.<a class="code hl_function" href="classap_1_1argument__parser.html#a6c2a8328773c498294fafd746ce4a364">has_value</a>(<span class="stringliteral">&quot;save&quot;</span>)) {</div>
<div class="line">    std::ofstream os(parser.<a class="code hl_function" href="classap_1_1argument__parser.html#a5a51e8b54c96d6bddbeabd9bc4ff7cb7">value</a>(<span class="stringliteral">&quot;save&quot;</span>));</div>
<div class="line">    os &lt;&lt; data &lt;&lt; std::endl;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">/*</span></div>
<div class="line"><span class="comment">Command                       Result</span></div>
<div class="line"><span class="comment">--------------------------------------------------------------------</span></div>
<div class="line"><span class="comment">./program                     No data will be saved</span></div>
<div class="line"><span class="comment">./program -s                  The data will be saved to `output.txt`</span></div>
<div class="line"><span class="comment">./program --save myfile.txt   The data will be saved to `myfile.txt`</span></div>
</div><!-- fragment --><blockquote class="doxtable">
<p>&zwj;<span style="color: #28a745; font-weight: bold; font-size: 1.1em;"><i class="fa fa-lightbulb-o" style="margin-right: 6px; vertical-align: middle; font-size: 1.3em; position: relative; top: -0.08em;"></i> Tip:</span></p>
<ul>
<li>The <code>implicit_value</code> parameter is extremely useful when combined with default value (e.g. in case of boolean flags - see <a class="el" href="md_docs_2tutorial.html#adding-arguments">Adding Arguments</a>).</li>
<li>The setter of the <code>implicit_value</code> parameter accepts any type that is convertible to the argument's value type. </li>
</ul>
</blockquote>
<h3><a class="anchor" id="autotoc_md4-on-flag-actions---for-optional-arguments-apart-from-value-actions-you-can-specify-on-flag-actions-which-are-executed-immediately-after-parsing-an-arguments-flag"></a>
4. On-flag actions - For optional arguments, apart from value actions, you can specify on-flag actions which are executed immediately after parsing an argument's flag.</h3>
<div class="fragment"><div class="line"><span class="keywordtype">void</span> print_debug_info() noexcept {</div>
<div class="line"><span class="preprocessor">#ifdef NDEBUG</span></div>
<div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;Running in release mode.\n&quot;</span>;</div>
<div class="line"><span class="preprocessor">#else</span></div>
<div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;Running in debug mode.\n&quot;</span>;</div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line">    std::exit(EXIT_SUCCESS);</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line">parser.<a class="code hl_function" href="classap_1_1argument__parser.html#a3841ee5aafb1bef6434fd790f6fa96d6">add_optional_argument</a>(<span class="stringliteral">&quot;--debug-info&quot;</span>)</div>
<div class="line">      .action&lt;<a class="code hl_struct" href="structap_1_1action__type_1_1on__flag.html">ap::action_type::on_flag</a>&gt;(print_debug_info);</div>
<div class="ttc" id="astructap_1_1action__type_1_1on__flag_html"><div class="ttname"><a href="structap_1_1action__type_1_1on__flag.html">ap::action_type::on_flag</a></div><div class="ttdoc">An on-flag action specifier.</div><div class="ttdef"><b>Definition</b> <a href="specifiers_8hpp_source.html#l00059">specifiers.hpp:59</a></div></div>
</div><!-- fragment --><p>Here the <code>print_debug_info</code> function will be called right after parsing the <code>--debug-info</code> flag and the program will exit, even if there are more arguments after this flag.</p>
<p><br  />
 <br  />
 <br  />
</p>
<h1><a class="anchor" id="predefined-parameter-values"></a>
Predefined Parameter Values</h1>
<h2><a class="anchor" id="actions"></a>
Actions</h2>
<ul>
<li><p class="startli"><code>print_config</code> | on-flag</p>
<p class="startli">Prints the configuration of the parser to the output stream and optionally exits with the given code.</p>
<div class="fragment"><div class="line"><span class="keyword">typename</span> ap::action_type::on_flag::type print_config(</div>
<div class="line">    <span class="keyword">const</span> <a class="code hl_class" href="classap_1_1argument__parser.html">ap::argument_parser</a>&amp; parser,</div>
<div class="line">    <span class="keyword">const</span> std::optional&lt;int&gt; exit_code = std::nullopt,</div>
<div class="line">    std::ostream&amp; os = std::cout</div>
<div class="line">) <span class="keyword">noexcept</span>;</div>
</div><!-- fragment --></li>
<li><p class="startli"><code>check_file_exists</code> | observe (value type: <code>std::string</code>)</p>
<p class="startli">Throws if the provided file path does not exist.</p>
<div class="fragment"><div class="line">detail::callable_type&lt;ap::action_type::observe, std::string&gt; check_file_exists() noexcept;</div>
</div><!-- fragment --></li>
<li><p class="startli"><code>gt</code> | observe (value type: <a href="https://en.cppreference.com/w/cpp/types/is_arithmetic">arithmetic</a>)</p>
<p class="startli">Validates that the value is strictly greater than <code>lower_bound</code>.</p>
<div class="fragment"><div class="line"><span class="keyword">template</span> &lt;ap::detail::c_arithmetic T&gt;</div>
<div class="line">detail::callable_type&lt;ap::action_type::observe, T&gt; gt(<span class="keyword">const</span> T lower_bound) <span class="keyword">noexcept</span>;</div>
</div><!-- fragment --></li>
<li><p class="startli"><code>geq</code> | observe (value type: <a href="https://en.cppreference.com/w/cpp/types/is_arithmetic">arithmetic</a>)</p>
<p class="startli">Validates that the value is greater than or equal to <code>lower_bound</code>.</p>
<div class="fragment"><div class="line"><span class="keyword">template</span> &lt;ap::detail::c_arithmetic T&gt;</div>
<div class="line">detail::callable_type&lt;ap::action_type::observe, T&gt; geq(<span class="keyword">const</span> T lower_bound) <span class="keyword">noexcept</span>;</div>
</div><!-- fragment --></li>
<li><p class="startli"><code>lt</code> | observe (value type: <a href="https://en.cppreference.com/w/cpp/types/is_arithmetic">arithmetic</a>)</p>
<p class="startli">Validates that the value is strictly less than <code>upper_bound</code>.</p>
<div class="fragment"><div class="line"><span class="keyword">template</span> &lt;ap::detail::c_arithmetic T&gt;</div>
<div class="line">detail::callable_type&lt;ap::action_type::observe, T&gt; lt(<span class="keyword">const</span> T upper_bound) <span class="keyword">noexcept</span></div>
</div><!-- fragment --></li>
<li><p class="startli"><code>leq</code> | observe (value type: <a href="https://en.cppreference.com/w/cpp/types/is_arithmetic">arithmetic</a>)</p>
<p class="startli">Validates that the value is less than or equal to <code>upper_bound</code>.</p>
<div class="fragment"><div class="line"><span class="keyword">template</span> &lt;ap::detail::c_arithmetic T&gt;</div>
<div class="line">detail::callable_type&lt;ap::action_type::observe, T&gt; leq(<span class="keyword">const</span> T upper_bound) <span class="keyword">noexcept</span></div>
</div><!-- fragment --></li>
<li><p class="startli"><code>within</code> | observe (value type: <a href="https://en.cppreference.com/w/cpp/types/is_arithmetic">arithmetic</a>)</p>
<p class="startli">Checks if the value is within the given interval. Bound inclusivity is customizable using template parameters.</p>
<div class="fragment"><div class="line"><span class="keyword">template</span> &lt;ap::detail::c_arithmetic T, <span class="keywordtype">bool</span> LeftInclusive = true, <span class="keywordtype">bool</span> RightInclusive = true&gt;</div>
<div class="line">detail::callable_type&lt;ap::action_type::observe, T&gt; within(</div>
<div class="line">    <span class="keyword">const</span> T lower_bound, <span class="keyword">const</span> T upper_bound</div>
<div class="line">) <span class="keyword">noexcept</span></div>
</div><!-- fragment --></li>
</ul>
<p><br  />
 <br  />
 <br  />
</p>
<h1><a class="anchor" id="default-arguments"></a>
Default Arguments</h1>
<p>The <code>CPP-AP</code> library defines several default arguments, which can be added to the parser's configuration as follows.</p>
<div class="fragment"><div class="line">parser.<a class="code hl_function" href="classap_1_1argument__parser.html#a0236f5dc871f7794a91d38e65210993f">default_positional_arguments</a>({...});</div>
<div class="line"><span class="comment">// here `...` represents a collection of ap::argument::default_positional values</span></div>
<div class="line"> </div>
<div class="line">parser.<a class="code hl_function" href="classap_1_1argument__parser.html#a0236f5dc871f7794a91d38e65210993f">default_positional_arguments</a>({...});</div>
<div class="line"><span class="comment">// here `...` represents a collection of ap::argument::default_optional values</span></div>
<div class="ttc" id="aclassap_1_1argument__parser_html_a0236f5dc871f7794a91d38e65210993f"><div class="ttname"><a href="classap_1_1argument__parser.html#a0236f5dc871f7794a91d38e65210993f">ap::argument_parser::default_positional_arguments</a></div><div class="ttdeci">argument_parser &amp; default_positional_arguments(const AR &amp;arg_discriminator_range) noexcept</div><div class="ttdoc">Set default positional arguments.</div><div class="ttdef"><b>Definition</b> <a href="argument__parser_8hpp_source.html#l00094">argument_parser.hpp:94</a></div></div>
</div><!-- fragment --><blockquote class="doxtable">
<p>&zwj;<span style="color: #1e90ff; font-weight: bold; font-size: 1.1em;"><i class="fa fa-info-circle" style="margin-right: 6px; vertical-align: middle; font-size: 1.3em; position: relative; top: -0.08em;"></i> Note:</span></p>
<p>These functions work with <code>std::initializer_list</code> and all other <code>std::ranges::range</code> types with the correct value type - <code>ap::argument::default_{positional/optional}</code> </p>
</blockquote>
<p>The available default arguments are:</p>
<ul>
<li><p class="startli"><code>default_positional::input</code>:</p>
<div class="fragment"><div class="line"><span class="comment">// equivalent to:</span></div>
<div class="line">parser.<a class="code hl_function" href="classap_1_1argument__parser.html#a95afc3f8d90d0f18e10a3d328d2e888d">add_positional_argument</a>&lt;std::string&gt;(<span class="stringliteral">&quot;input&quot;</span>)</div>
<div class="line">      .action&lt;ap::action_type::modify&gt;(ap::action::check_file_exists())</div>
<div class="line">      .help(<span class="stringliteral">&quot;Input file path&quot;</span>);</div>
</div><!-- fragment --></li>
<li><p class="startli"><code>default_positional::output</code>:</p>
<div class="fragment"><div class="line"><span class="comment">// equivalent to:</span></div>
<div class="line">parser.<a class="code hl_function" href="classap_1_1argument__parser.html#a95afc3f8d90d0f18e10a3d328d2e888d">add_positional_argument</a>(<span class="stringliteral">&quot;output&quot;</span>).help(<span class="stringliteral">&quot;Output file path&quot;</span>);</div>
</div><!-- fragment --></li>
<li><p class="startli"><code>default_optional::help</code>:</p>
<div class="fragment"><div class="line"><span class="comment">// equivalent to:</span></div>
<div class="line">parser.<a class="code hl_function" href="classap_1_1argument__parser.html#aa340ed78fcdb698b73e105b04a4a5c14">add_flag</a>(<span class="stringliteral">&quot;help&quot;</span>, <span class="stringliteral">&quot;h&quot;</span>)</div>
<div class="line">      .action&lt;action_type::on_flag&gt;(action::print_config(arg_parser, EXIT_SUCCESS))</div>
<div class="line">      .help(<span class="stringliteral">&quot;Display the help message&quot;</span>);</div>
</div><!-- fragment --></li>
<li><p class="startli"><code>default_optional::input</code> and <code>default_optional::multi_input</code>:</p>
<div class="fragment"><div class="line"><span class="comment">// input - equivalent to:</span></div>
<div class="line">parser.<a class="code hl_function" href="classap_1_1argument__parser.html#a3841ee5aafb1bef6434fd790f6fa96d6">add_optional_argument</a>(<span class="stringliteral">&quot;input&quot;</span>, <span class="stringliteral">&quot;i&quot;</span>)</div>
<div class="line">      .required()</div>
<div class="line">      .nargs(1)</div>
<div class="line">      .action&lt;<a class="code hl_struct" href="structap_1_1action__type_1_1observe.html">ap::action_type::observe</a>&gt;(ap::action::check_file_exists())</div>
<div class="line">      .help(<span class="stringliteral">&quot;Input file path&quot;</span>);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// multi_input - equivalent to:</span></div>
<div class="line">parser.<a class="code hl_function" href="classap_1_1argument__parser.html#a3841ee5aafb1bef6434fd790f6fa96d6">add_optional_argument</a>(<span class="stringliteral">&quot;input&quot;</span>, <span class="stringliteral">&quot;i&quot;</span>)</div>
<div class="line">      .required()</div>
<div class="line">      .nargs(ap::nargs::at_least(1))</div>
<div class="line">      .action&lt;<a class="code hl_struct" href="structap_1_1action__type_1_1observe.html">ap::action_type::observe</a>&gt;(ap::action::check_file_exists())</div>
<div class="line">      .help(<span class="stringliteral">&quot;Input files paths&quot;</span>);</div>
<div class="ttc" id="astructap_1_1action__type_1_1observe_html"><div class="ttname"><a href="structap_1_1action__type_1_1observe.html">ap::action_type::observe</a></div><div class="ttdoc">An observing value action specifier.</div><div class="ttdef"><b>Definition</b> <a href="specifiers_8hpp_source.html#l00024">specifiers.hpp:24</a></div></div>
</div><!-- fragment --></li>
<li><p class="startli"><code>default_optional::output</code> and <code>default_optional::multi_output</code>:</p>
<div class="fragment"><div class="line"><span class="comment">// output - equivalent to:</span></div>
<div class="line">parser.<a class="code hl_function" href="classap_1_1argument__parser.html#a3841ee5aafb1bef6434fd790f6fa96d6">add_optional_argument</a>(<span class="stringliteral">&quot;output&quot;</span>, <span class="stringliteral">&quot;o&quot;</span>)</div>
<div class="line">      .required()</div>
<div class="line">      .nargs(1)</div>
<div class="line">      .help(<span class="stringliteral">&quot;Output file path&quot;</span>);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// multi_otput - equivalent to:</span></div>
<div class="line">parser.<a class="code hl_function" href="classap_1_1argument__parser.html#a3841ee5aafb1bef6434fd790f6fa96d6">add_optional_argument</a>(<span class="stringliteral">&quot;output&quot;</span>, <span class="stringliteral">&quot;o&quot;</span>)</div>
<div class="line">      .required()</div>
<div class="line">      .nargs(ap::nargs::at_least(1))</div>
<div class="line">      .help(<span class="stringliteral">&quot;Output files paths&quot;</span>);</div>
</div><!-- fragment --></li>
</ul>
<p><br  />
 <br  />
 <br  />
</p>
<h1><a class="anchor" id="parsing-arguments"></a>
Parsing Arguments</h1>
<p>To parse the command-line arguments use the <code>void argument_parser::parse_args(const AR&amp; argv)</code> method, where <code>AR</code> must be a type that satisfies <code>std::ranges::range</code> and its value type is convertible to <code>std::string</code>.</p>
<p>The <code>argument_parser</code> class also defines the <code>void parse_args(int argc, char* argv[])</code> overload, which works directly with the <code>argc</code> and <code>argv</code> arguments of the <code>main</code> function.</p>
<blockquote class="doxtable">
<p>&zwj;<span style="color: #d63384; font-weight: bold; font-size: 1.1em;"><i class="fa fa-exclamation-circle" style="margin-right: 6px; vertical-align: middle; font-size: 1.3em; position: relative; top: -0.08em;"></i> Important:</span></p>
<p>The <code>parse_args(argc, argv)</code> method ignores the first argument (the program name) and is equivalent to calling:</p>
<div class="fragment"><div class="line">parse_args(std::span(argv + 1, argc - 1));</div>
</div><!-- fragment --> </blockquote>
<blockquote class="doxtable">
<p>&zwj;<span style="color: #fd7e14; font-weight: bold; font-size: 1.1em;"><i class="fa fa-exclamation-triangle" style="margin-right: 6px; vertical-align: middle; font-size: 1.3em; position: relative; top: -0.08em;"></i> Warning:</span></p>
<p>By default the <code>argument_parser</code> class treats <em>all*</em> command-line arguments beggining with a <code>--</code> or <code>-</code> prefix as optional argument flags and if the flag's value does not match any of the specified arguments, then such flag is considered <em>unknown</em> and an exception will be thrown.</p>
<blockquote class="doxtable">
<p>&zwj;[<em>all*</em>] If a command-line argument begins with a flag prefix, but contains whitespaces (e.g. <code>"--flag value"</code>), then it is treated as a value and not a flag. </p>
</blockquote>
<p>This behavior can be altered so that the unknown argument flags will be treated as values, not flags.</p>
<p>Example: </p><div class="fragment"><div class="line">parser.<a class="code hl_function" href="classap_1_1argument__parser.html#a3841ee5aafb1bef6434fd790f6fa96d6">add_optional_argument</a>(<span class="stringliteral">&quot;option&quot;</span>, <span class="stringliteral">&quot;o&quot;</span>);</div>
<div class="line">parser.<a class="code hl_function" href="classap_1_1argument__parser.html#aabce061e6d7294e4b5b71c6e885fdabe">try_parse_args</a>(argc, argv);</div>
<div class="line">std::cout &lt;&lt; <span class="stringliteral">&quot;option: &quot;</span> &lt;&lt; parser.<a class="code hl_function" href="classap_1_1argument__parser.html#a5a51e8b54c96d6bddbeabd9bc4ff7cb7">value</a>(<span class="stringliteral">&quot;option&quot;</span>);</div>
<div class="line"> </div>
<div class="line"><span class="comment">/*</span></div>
<div class="line"><span class="comment">./program --option --unknown-flag</span></div>
<div class="line"><span class="comment">option: --unknown-flag</span></div>
<div class="ttc" id="aclassap_1_1argument__parser_html_aabce061e6d7294e4b5b71c6e885fdabe"><div class="ttname"><a href="classap_1_1argument__parser.html#aabce061e6d7294e4b5b71c6e885fdabe">ap::argument_parser::try_parse_args</a></div><div class="ttdeci">void try_parse_args(int argc, char *argv[])</div><div class="ttdoc">Parses the command-line arguments and exits on error.</div><div class="ttdef"><b>Definition</b> <a href="argument__parser_8hpp_source.html#l00291">argument_parser.hpp:291</a></div></div>
</div><!-- fragment --><p>To do this add the following in you <code>CMakeLists.txt</code> file: </p><div class="fragment"><div class="line">target_compile_definitions(cpp-ap-2 PRIVATE AP_UNKNOWN_FLAGS_AS_VALUES)</div>
</div><!-- fragment --><p> or simply add: </p><div class="fragment"><div class="line"><span class="preprocessor">#define AP_UNKNOWN_FLAGS_AS_VALUES</span></div>
</div><!-- fragment --><p> before the <code>#include &lt;<a class="el" href="argument__parser_8hpp.html" title="Main library header file. Defines the argument_parser class.">ap/argument_parser.hpp</a>&gt;</code> statement. </p>
</blockquote>
<blockquote class="doxtable">
<p>&zwj;<span style="color: #28a745; font-weight: bold; font-size: 1.1em;"><i class="fa fa-lightbulb-o" style="margin-right: 6px; vertical-align: middle; font-size: 1.3em; position: relative; top: -0.08em;"></i> Tip:</span></p>
<p>The <code>parse_args</code> function may throw an <code><a class="el" href="structap_1_1argument__parser__exception.html" title="Base type for the argument parser functionality errors/exceptions.">ap::argument_parser_exception</a></code> (specifically the <code><a class="el" href="structap_1_1parsing__failure.html" title="Exception type used for errors encountered during the argument parsing operation.">ap::parsing_failure</a></code> derived exception) if the provided command-line arguments do not match the expected configuration. To simplify error handling, the <code>argument_parser</code> class provides <code>try_parse_args</code> methods, which automatically catch these exceptions, print the error message, and exit with a failure status.</p>
<p>Internally, This is equivalent to:</p>
<div class="fragment"><div class="line"><span class="keywordflow">try</span> {</div>
<div class="line">    parser.<a class="code hl_function" href="classap_1_1argument__parser.html#af1ba2d20583be8bfa9cfb61eac4b602a">parse_args</a>(...);</div>
<div class="line">}</div>
<div class="line"><span class="keywordflow">catch</span> (<span class="keyword">const</span> <a class="code hl_struct" href="structap_1_1argument__parser__exception.html">ap::argument_parser_exception</a>&amp; err) {</div>
<div class="line">    std::cerr &lt;&lt; <span class="stringliteral">&quot;[ERROR] : &quot;</span> &lt;&lt; err.what() &lt;&lt; std::endl &lt;&lt; parser &lt;&lt; std::endl;</div>
<div class="line">    std::exit(EXIT_FAILURE);</div>
<div class="line">}</div>
<div class="ttc" id="astructap_1_1argument__parser__exception_html"><div class="ttname"><a href="structap_1_1argument__parser__exception.html">ap::argument_parser_exception</a></div><div class="ttdoc">Base type for the argument parser functionality errors/exceptions.</div><div class="ttdef"><b>Definition</b> <a href="exceptions_8hpp_source.html#l00017">exceptions.hpp:17</a></div></div>
</div><!-- fragment --> </blockquote>
<div class="fragment"><div class="line"><span class="comment">// power.cpp</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="argument__parser_8hpp.html">ap/argument_parser.hpp</a>&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#include &lt;cmath&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;iostream&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span>* argv[]) {</div>
<div class="line">    <span class="comment">// create the parser class instance</span></div>
<div class="line">    <a class="code hl_class" href="classap_1_1argument__parser.html">ap::argument_parser</a> parser;</div>
<div class="line">    parser.<a class="code hl_function" href="classap_1_1argument__parser.html#a61647eb07a661640d94d416dff69a9fe">program_name</a>(<span class="stringliteral">&quot;power calculator&quot;</span>)</div>
<div class="line">          .<a class="code hl_function" href="classap_1_1argument__parser.html#a5935ee955cca241d6d4450326f9a92be">program_description</a>(<span class="stringliteral">&quot;Calculates the value of an expression: base ^ exponent&quot;</span>);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// add arguments</span></div>
<div class="line">    parser.<a class="code hl_function" href="classap_1_1argument__parser.html#a95afc3f8d90d0f18e10a3d328d2e888d">add_positional_argument</a>&lt;<span class="keywordtype">double</span>&gt;(<span class="stringliteral">&quot;base&quot;</span>).help(<span class="stringliteral">&quot;the exponentation base value&quot;</span>);</div>
<div class="line">    parser.<a class="code hl_function" href="classap_1_1argument__parser.html#a3841ee5aafb1bef6434fd790f6fa96d6">add_optional_argument</a>&lt;<span class="keywordtype">int</span>&gt;(<span class="stringliteral">&quot;exponent&quot;</span>, <span class="stringliteral">&quot;e&quot;</span>)</div>
<div class="line">          .nargs(ap::nargs::any())</div>
<div class="line">          .help(<span class="stringliteral">&quot;the exponent value&quot;</span>);</div>
<div class="line"> </div>
<div class="line">    parser.<a class="code hl_function" href="classap_1_1argument__parser.html#aa17bf6579d8343e8e593e43f105f64fc">default_optional_arguments</a>({ap::argument::default_optional::help});</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// parse command-line arguments</span></div>
<div class="line">    parser.<a class="code hl_function" href="classap_1_1argument__parser.html#aabce061e6d7294e4b5b71c6e885fdabe">try_parse_args</a>(argc, argv);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// check if any values for the `exponent` argument have been parsed</span></div>
<div class="line">    <span class="keywordflow">if</span> (not parser.<a class="code hl_function" href="classap_1_1argument__parser.html#a6c2a8328773c498294fafd746ce4a364">has_value</a>(<span class="stringliteral">&quot;exponent&quot;</span>)) {</div>
<div class="line">        std::cout &lt;&lt; <span class="stringliteral">&quot;no exponent values given&quot;</span> &lt;&lt; std::endl;</div>
<div class="line">        std::exit(EXIT_SUCCESS);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">const</span> <span class="keywordtype">double</span> base = parser.<a class="code hl_function" href="classap_1_1argument__parser.html#a5a51e8b54c96d6bddbeabd9bc4ff7cb7">value</a>&lt;<span class="keywordtype">double</span>&gt;(<span class="stringliteral">&quot;base&quot;</span>);</div>
<div class="line">    <span class="keyword">const</span> std::vector&lt;int&gt; exponent_values = parser.<a class="code hl_function" href="classap_1_1argument__parser.html#a80270803f7f3c59c3aeac9f6d33205ce">values</a>&lt;<span class="keywordtype">int</span>&gt;(<span class="stringliteral">&quot;exponent&quot;</span>);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keywordtype">int</span> exponent : exponent_values) {</div>
<div class="line">        std::cout &lt;&lt; base &lt;&lt; <span class="stringliteral">&quot; ^ &quot;</span> &lt;&lt; exponent &lt;&lt; <span class="stringliteral">&quot; = &quot;</span> &lt;&lt; std::pow(base, exponent) &lt;&lt; std::endl;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">// compiled with:</span></div>
<div class="line"><span class="comment">// g++ -o power power.cpp -I &lt;cpp-ap-include-dir&gt; -std=c++20</span></div>
<div class="ttc" id="aargument__parser_8hpp_html"><div class="ttname"><a href="argument__parser_8hpp.html">argument_parser.hpp</a></div><div class="ttdoc">Main library header file. Defines the argument_parser class.</div></div>
<div class="ttc" id="aclassap_1_1argument__parser_html_a80270803f7f3c59c3aeac9f6d33205ce"><div class="ttname"><a href="classap_1_1argument__parser.html#a80270803f7f3c59c3aeac9f6d33205ce">ap::argument_parser::values</a></div><div class="ttdeci">std::vector&lt; T &gt; values(std::string_view arg_name) const</div><div class="ttdef"><b>Definition</b> <a href="argument__parser_8hpp_source.html#l00407">argument_parser.hpp:407</a></div></div>
<div class="ttc" id="aclassap_1_1argument__parser_html_aa17bf6579d8343e8e593e43f105f64fc"><div class="ttname"><a href="classap_1_1argument__parser.html#aa17bf6579d8343e8e593e43f105f64fc">ap::argument_parser::default_optional_arguments</a></div><div class="ttdeci">argument_parser &amp; default_optional_arguments(const AR &amp;arg_discriminator_range) noexcept</div><div class="ttdoc">Set default optional arguments.</div><div class="ttdef"><b>Definition</b> <a href="argument__parser_8hpp_source.html#l00118">argument_parser.hpp:118</a></div></div>
</div><!-- fragment --><h2><a class="anchor" id="argument-parsing-rules"></a>
Argument Parsing Rules:</h2>
<ul>
<li><p class="startli">Positional arguments are parsed first, in the order they were defined in and without a flag.</p>
<p class="startli">In the example above the first command-line argument must be the value for the <code>positional</code> argument:</p>
<div class="fragment"><div class="line">./power 2</div>
<div class="line"># out:</div>
<div class="line"># no exponent values given</div>
</div><!-- fragment --><div class="fragment"><div class="line">./power</div>
<div class="line"># out:</div>
<div class="line"># [ERROR] : No values parsed for a required argument [base]</div>
<div class="line"># Program: power calculator</div>
<div class="line">#</div>
<div class="line">#   Calculates the value of an expression: base ^ exponent</div>
<div class="line">#</div>
<div class="line"># Positional arguments:</div>
<div class="line">#</div>
<div class="line">#   base : the exponentation base value</div>
<div class="line">#</div>
<div class="line"># Optional arguments:</div>
<div class="line">#</div>
<div class="line">#   --exponent, -e : the exponent value</div>
<div class="line">#   --help, -h     : Display the help message</div>
</div><!-- fragment --></li>
</ul>
<blockquote class="doxtable">
<p>&zwj;<span style="color: #d63384; font-weight: bold; font-size: 1.1em;"><i class="fa fa-exclamation-circle" style="margin-right: 6px; vertical-align: middle; font-size: 1.3em; position: relative; top: -0.08em;"></i> Important:</span></p>
<p>For each positional argument there must be <b>exactly one value</b>. </p>
</blockquote>
<ul>
<li><p class="startli">Optional arguments are parsed only with a flag:</p>
<div class="fragment"><div class="line">./power 2 --exponent 1 2 3</div>
<div class="line"># equivalent to: ./power 2 -e 1 2 3</div>
<div class="line"># out:</div>
<div class="line"># 2 ^ 1 = 2</div>
<div class="line"># 2 ^ 2 = 4</div>
<div class="line"># 2 ^ 3 = 8</div>
</div><!-- fragment --><p class="startli">You can use the flag for each command-line value:</p>
<div class="fragment"><div class="line">./power 2 -e 1 -e 2 -e 3</div>
</div><!-- fragment --><p class="startli">Not using a flag will result in an error:</p>
<div class="fragment"><div class="line">./power 2 1 2 3</div>
<div class="line"># out:</div>
<div class="line"># [ERROR] : Failed to deduce the argument for values [1, 2, 3]</div>
<div class="line"># Program: power calculator</div>
<div class="line">#</div>
<div class="line">#   Calculates the value of an expression: base ^ exponent</div>
<div class="line">#</div>
<div class="line"># Positional arguments:</div>
<div class="line">#</div>
<div class="line">#   base : the exponentation base value</div>
<div class="line">#</div>
<div class="line"># Optional arguments:</div>
<div class="line">#</div>
<div class="line">#   --exponent, -e : the exponent value</div>
<div class="line">#   --help, -h     : Display the help message</div>
</div><!-- fragment --></li>
</ul>
<blockquote class="doxtable">
<p>&zwj;<span style="color: #d63384; font-weight: bold; font-size: 1.1em;"><i class="fa fa-exclamation-circle" style="margin-right: 6px; vertical-align: middle; font-size: 1.3em; position: relative; top: -0.08em;"></i> Important:</span></p>
<p>The parser's behavior depends on the argument definitions - see <a class="el" href="md_docs_2tutorial.html#argument-parameters">Argument Parameters</a> section. </p>
</blockquote>
<p><br  />
 <br  />
 <br  />
</p>
<h1><a class="anchor" id="retrieving-argument-values"></a>
Retrieving Argument Values</h1>
<p>You can retrieve the argument's value with:</p>
<div class="fragment"><div class="line">(<span class="keyword">const</span>) <span class="keyword">auto</span> value = parser.<a class="code hl_function" href="classap_1_1argument__parser.html#a5a51e8b54c96d6bddbeabd9bc4ff7cb7">value</a>&lt;value_type&gt;(<span class="stringliteral">&quot;argument_name&quot;</span>); <span class="comment">// (1)</span></div>
<div class="line">(<span class="keyword">const</span>) <span class="keyword">auto</span> value = parser.<a class="code hl_function" href="classap_1_1argument__parser.html#a6b47a2a3db577ef0ea8c00264de480a9">value_or</a>&lt;value_type&gt;(<span class="stringliteral">&quot;argument_name&quot;</span>, fallback_value); <span class="comment">// (2)</span></div>
<div class="ttc" id="aclassap_1_1argument__parser_html_a6b47a2a3db577ef0ea8c00264de480a9"><div class="ttname"><a href="classap_1_1argument__parser.html#a6b47a2a3db577ef0ea8c00264de480a9">ap::argument_parser::value_or</a></div><div class="ttdeci">T value_or(std::string_view arg_name, U &amp;&amp;fallback_value) const</div><div class="ttdef"><b>Definition</b> <a href="argument__parser_8hpp_source.html#l00381">argument_parser.hpp:381</a></div></div>
</div><!-- fragment --><ol type="1">
<li><p class="startli">This will return the value parsed for the given argument.</p>
<p class="startli">For optional arguments this will return the argument's predefined value if no value has been parsed. Additionaly, if more than one value has been parsed for an optional argument, this function will return the first parsed value.</p>
</li>
<li>When a value has been parsed for the argument, the behavior is the same as in case **(1)**. Otherwise, this will return <code>value_type{std::forward&lt;U&gt;(fallback_value)}</code> (where <code>U</code> is the deducted type of <code>fallback_value</code>), if:<ul>
<li>There is no value parsed for a positional argument</li>
<li>There is no parsed values and no predefined values for an optional arrument</li>
</ul>
</li>
</ol>
<p><br  />
</p>
<p>Additionally for optional arguments, you can use:</p>
<div class="fragment"><div class="line">(<span class="keyword">const</span>) std::vector&lt;value_type&gt; values = parser.<a class="code hl_function" href="classap_1_1argument__parser.html#a80270803f7f3c59c3aeac9f6d33205ce">values</a>&lt;value_type&gt;(<span class="stringliteral">&quot;argument_name&quot;</span>);</div>
</div><!-- fragment --><p>which returns a <code>vector</code> containing all values parsed for the given argument.</p>
<p><br  />
 <br  />
 <br  />
</p>
<h1><a class="anchor" id="examples"></a>
Examples</h1>
<p>The library usage examples / demo projects can be found in the <a href="https://github.com/SpectraL519/cpp-ap-demo">cpp-ap-demo</a> repository. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Mon Aug 25 2025 for CPP-AP by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
